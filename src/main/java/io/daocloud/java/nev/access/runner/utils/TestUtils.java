package io.daocloud.java.nev.access.runner.utils;

import io.daocloud.java.nev.access.runner.bean.TransferData;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;

import java.util.Arrays;

public class TestUtils {

    public static TransferData LoginSampleData = DataReader.read(TestUtils.fromString("23 23 01 fe 4c 44 50 55 4e 41 53 43 31 47 43 31 39 30 38 38 30 01 00 2e 11 02 07 0a 03 1b 00 14 38 39 38 36 30 36 31 36 30 32 30 30 30 34 37 36 36 30 31 35 01 10 00 00 00 10 00 2b 00 00 05 00 04 00 00 00 00 01 cc", true));
    public static TransferData realSampleData = DataReader.read(TestUtils.fromString("232302FE4C44505A594233443348463232353530390101BD1102080E1E2501010301005A0000432614CB280C64012E31780F0002010101334F684EDE3214CB27CE050006AEBBD001E9A6540601080D48017B0CC601052E01012C0700000000000000000009010100202D2D2D2D2D2D2E2D2E2D2D2D2C2C2D2D2D2D2D2D2D2D2C2C2D2D2C2C2D2C2D2D08010114CB280C00A00001A00D160D160D160D160D160D160D160D480D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D160D160D160D160D160D160D160D160D160D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D0C0D020D020D020D020D020D020CF80D020D020D020CF80CF80D020CF80CF80D020CF80CF80D020D020CF80D020D020CF80D020CF80D020D020D020CF80CEE0CEE0CF80CF80CE40CEE0CEE0CEE0CEE0CE40CE40CDA0CDA0CDA0CDA0CE40CDA0CE40CDA0CDA0CE40CDA0CE40CD00CDA0CDA0CD00CE40CD00CDA0CD00CDA0CDA0CD00CC60CD00CD00CD00CF80CD00CE40CDA0CD00CD00CD00CC60CC60CC60D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D160D1623", false));


    public static ByteBuf fromString(String str, boolean isHasSpace) {
        ByteBuf byteBuf = Unpooled.buffer();

        if (isHasSpace) {
            Arrays.stream(str.split(" "))
                    .forEach(c -> byteBuf.writeByte(Integer.parseInt(c, 16)));
        } else {
            for (int i = 0; i < str.length(); i += 2) {
                byteBuf.writeByte(Integer.parseInt(str.substring(i, i + 2), 16));
            }
        }

        return byteBuf;
    }
}
